{"remainingRequest":"/Users/cuishuxian/Desktop/fe-download/node_modules/babel-loader/lib/index.js!/Users/cuishuxian/Desktop/fe-download/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cuishuxian/Desktop/fe-download/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cuishuxian/Desktop/fe-download/src/components/HelloWorld.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cuishuxian/Desktop/fe-download/src/components/HelloWorld.vue","mtime":1568464475669},{"path":"/Users/cuishuxian/Desktop/fe-download/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cuishuxian/Desktop/fe-download/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/cuishuxian/Desktop/fe-download/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cuishuxian/Desktop/fe-download/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: 'HelloWorld',\n  props: {\n    msg: String\n  },\n  data: function data() {\n    return {\n      arr: [{\n        name: '性感',\n        path: 'https://cdn.jsdelivr.net/gh/qiang520184/fe-download-cdn@1.0/1.jpg'\n      }, {\n        name: '兔女郎',\n        path: 'https://cdn.jsdelivr.net/gh/qiang520184/fe-download-cdn@1.0/2.jpg'\n      }, {\n        name: '可爱',\n        path: 'https://cdn.jsdelivr.net/gh/qiang520184/fe-download-cdn@1.0/3.jpg'\n      }, {\n        name: '清新',\n        path: 'https://cdn.jsdelivr.net/gh/qiang520184/fe-download-cdn@1.0/4.jpg'\n      }]\n    };\n  },\n  methods: {\n    download: function download(item, name) {\n      var url = item.slice(item.indexOf('@1.0/') + 4);\n      console.log(url);\n      axios.get(\"/api\".concat(url), {\n        responseType: 'blob'\n      }).then(function (res) {\n        var fileReader = new FileReader();\n        fileReader.readAsDataURL(res.data);\n\n        fileReader.onprogress = function (event) {\n          console.log(event, 'event');\n        };\n\n        fileReader.onload = function () {\n          console.log(this.result);\n          var a = document.createElement(\"a\");\n          a.href = this.result;\n          a.setAttribute(\"download\", name);\n          a.click();\n        };\n      }); // console.log(item)\n    }\n  }\n};",{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":";;;;;;;;;;;;AAaA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,CACA;AACA,QAAA,IAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,IAAA,EAAA,KADA;AAEA,QAAA,IAAA,EAAA;AAFA,OALA,EASA;AACA,QAAA,IAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA;AAFA,OATA,EAaA;AACA,QAAA,IAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAbA;AADA,KAAA;AAoBA,GA1BA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,IADA,EACA,IADA,EACA;AACA,UAAA,GAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,OAAA,CAAA,OAAA,IAAA,CAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,MAAA,KAAA,CAAA,GAAA,eAAA,GAAA,GAAA;AACA,QAAA,YAAA,EAAA;AADA,OAAA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,YAAA,UAAA,GAAA,IAAA,UAAA,EAAA;AACA,QAAA,UAAA,CAAA,aAAA,CAAA,GAAA,CAAA,IAAA;;AACA,QAAA,UAAA,CAAA,UAAA,GAAA,UAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EAAA,OAAA;AACA,SAFA;;AAGA,QAAA,UAAA,CAAA,MAAA,GAAA,YAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,MAAA;AACA,cAAA,CAAA,GAAA,QAAA,CAAA,aAAA,CAAA,GAAA,CAAA;AACA,UAAA,CAAA,CAAA,IAAA,GAAA,KAAA,MAAA;AACA,UAAA,CAAA,CAAA,YAAA,CAAA,UAAA,EAAA,IAAA;AACA,UAAA,CAAA,CAAA,KAAA;AACA,SANA;AAOA,OAfA,EAHA,CAmBA;AACA;AArBA;AA3BA,CAAA","sourcesContent":["<template>\n  <div class=\"hello\">\n    <h1>纯前端实现下载</h1>\n    <ul>\n      <li v-for=\"(item, index) in arr\" :key=\"index\">\n        <img :src=\"item.path\" alt=\"item.name\">\n        <button @click=\"download(item.path, item.name)\">下载</button>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n  name: 'HelloWorld',\n  props: {\n    msg: String\n  },\n  data() {\n    return {\n      arr: [\n        {\n          name: '性感',\n          path: 'https://cdn.jsdelivr.net/gh/qiang520184/fe-download-cdn@1.0/1.jpg'\n        },\n        {\n          name: '兔女郎',\n          path: 'https://cdn.jsdelivr.net/gh/qiang520184/fe-download-cdn@1.0/2.jpg'\n        },\n        {\n          name: '可爱',\n          path: 'https://cdn.jsdelivr.net/gh/qiang520184/fe-download-cdn@1.0/3.jpg'\n        },\n        {\n          name: '清新',\n          path: 'https://cdn.jsdelivr.net/gh/qiang520184/fe-download-cdn@1.0/4.jpg'\n        }\n      ]\n    }\n  },\n  methods: {\n    download(item, name) {\n      let url = item.slice(item.indexOf('@1.0/')+4)\n      console.log(url)\n      axios.get(`/api${url}`,{\n        responseType: 'blob'\n      }).then(res => {\n        var fileReader = new FileReader();\n        fileReader.readAsDataURL(res.data);\n        fileReader.onprogress = function (event) {\n          console.log(event, 'event')\n        }\n        fileReader.onload = function () {\n          console.log(this.result)\n          let a = document.createElement(\"a\");\n          a.href = this.result;\n          a.setAttribute(\"download\", name);\n          a.click();\n        }\n      })\n      // console.log(item)\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang='less'>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  height: auto;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n}\n\nul li {\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\nul li img {\n  width: auto;\n  height: 300px;\n}\nul li button {\n  width: 60px;\n  height: 32px;\n  margin: 20px 0;\n  border: 0;\n  outline: none;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}